<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <link rel="stylesheet" href="style.css">

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Cálculo de CPM TV TEM" />
    <meta name="keywords" content="cpm, cpm calculator, calculadora de cpm, tabela" />
    <link rel="shortcut icon" type="image/x-icon" href="./img/favicon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>TV TEM - GERADOR DE QR CODE</title>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ["Poppins", "sans-serif"],
                    },
                },
            },
        };
    </script>
    <header class="p-2 mb-0 bg-blue-900">
        <div class="max-w-5xl m-auto flex items-center" id="header">
            <img src="./img/logo.png" width="60px" alt="">
            <div class="text-xl font-bold text-white">CALCULADORA CPM</div>
        </div>
    </header>
    <main>
        <div class="flex flex-col-reverse align-center justify-center m-auto md:max-w-8xl p-10 md:flex-row">
            <div class="w-full md:w-2/3 mr-0">
                <div class="mb-5">
                    <h2 class="md:max">Tabela de VÍDEO|VGLOBO</h2>
                    <table>
                        <tr>
                            <th>Vídeo</th>
                            <th>CPM</th>
                            <th>Impressões</th>
                            <th>Investimento do Cliente</th>
                        </tr>
                        <tr>
                            <td>Outstream - comercial de 07" a 60" com áudio sem skip</td>
                            <td><input type="text" id="cpm1" value="R$ 60,00" onchange="calculateInvestmentTable1(1)">
                            </td>
                            <td><input type="number" id="impressions1" value="0"
                                    onchange="calculateInvestmentTable1(1)"></td>
                            <td><input type="text" disabled id="investment1" value="518.00"></td>
                        </tr>
                        <tr>
                            <td>Pré-Roll - Bumper Ad até 06" sem skip</td>
                            <td><input type="text" id="cpm2" value="R$ 60,00" onchange="calculateInvestmentTable1(2)">
                            </td>
                            <td><input type="number" id="impressions2" value="0"
                                    onchange="calculateInvestmentTable1(2)"></td>
                            <td><input type="text" disabled id="investment2" value="0"></td>
                        </tr>
                        <tr>
                            <td>Pré-Roll - Comercial até 15" sem skip</td>
                            <td><input type="text" id="cpm3" value="R$ 200,00" onchange="calculateInvestmentTable1(3)">
                            </td>
                            <td><input type="number" id="impressions3" value="0"
                                    onchange="calculateInvestmentTable1(3, 200)"></td>
                            <td><input type="text" disabled id="investment3" value="0"></td>
                        </tr>
                        <tr>
                            <td>Pré-Roll - Comercial de 30" até 180" com skip</td>
                            <td><input type="text" id="cpm4" value="R$ 150,00" onchange="calculateInvestmentTable1(4)">
                            </td>
                            <td><input type="number" id="impressions4" value="0"
                                    onchange="calculateInvestmentTable1(4, 150)"></td>
                            <td><input type="text" disabled id="investment4" value="518.00"></td>
                        </tr>
                    </table>
                    <br>
                    <br>
                    <h2>Tabela de DISPLAY | DGLOBO</h2>
                    <table>
                        <tr>
                            <th>Vídeo</th>
                            <th>CPM</th>
                            <th>Impressões</th>
                            <th>Investimento do Cliente</th>
                        </tr>
                        <tr>
                            <td>Maxiboard, Billboard e Retângulo (todas as posições)</td>
                            <td><input type="text" id="cpm5" value="R$ 20,00" onchange="calculateInvestmentTable2(5)">
                            </td>
                            <td><input type="number" id="impressions5" value="0"
                                    onchange="calculateInvestmentTable2(5)"></td>
                            <td><input type="text" disabled id="investment5" value="618.80"></td>
                        </tr>
                        <tr>
                            <td>banner contextualizado</td>
                            <td><input type="text" id="cpm6" value="R$ 29,00" onchange="calculateInvestmentTable2(6)">
                            </td>
                            <td><input type="number" id="impressions6" value="0"
                                    onchange="calculateInvestmentTable2(6)"></td>
                            <td><input type="text" disabled id="investment6" value="0"></td>
                        </tr>
                    </table>

                    <script>
                        const cpmTable1 = [60, 60, 200, 150];
                        const cpmTable2 = [20, 29];

                        function formatCurrency(value) {
                            return new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(value);
                        }

                        function calculateInvestmentTable1(rowNumber) {
                            const impressionsInput = document.getElementById(`impressions${rowNumber}`);
                            const investmentInput = document.getElementById(`investment${rowNumber}`);
                            const cpmInput = document.getElementById(`cpm${rowNumber}`);

                            const impressionsValue = parseFloat(impressionsInput.value);
                            if (isNaN(impressionsValue)) {
                                investmentInput.value = "0.00";
                            } else {
                                const cpmValue = parseFloat(cpmInput.value.replace("R$ ", ""));
                                const investmentValue = impressionsValue * cpmValue;
                                investmentInput.value = formatCurrency(investmentValue);
                            }
                        }

                        function calculateInvestmentTable2(rowNumber) {
                            const impressionsInput = document.getElementById(`impressions${rowNumber}`);
                            const investmentInput = document.getElementById(`investment${rowNumber}`);
                            const cpmInput = document.getElementById(`cpm${rowNumber}`);

                            const impressionsValue = parseFloat(impressionsInput.value);
                            if (isNaN(impressionsValue)) {
                                investmentInput.value = "0.00";
                            } else {
                                const cpmValue = parseFloat(cpmInput.value.replace("R$ ", ""));
                                const investmentValue = impressionsValue * cpmValue;
                                investmentInput.value = formatCurrency(investmentValue);
                            }
                        }

                        // Calculate all investments when the page loads
                        window.onload = function () {
                            calculateInvestmentTable1(1);
                            calculateInvestmentTable1(2);
                            calculateInvestmentTable1(3);
                            calculateInvestmentTable1(4);
                            calculateInvestmentTable2(5);
                            calculateInvestmentTable2(6);
                        };
                    </script>
                </div>
            </div>
        </div>
    </main>
</head>

<body>

</body>

</html>